# ♠️ ♦️ 보드게임 티츄 ♥️ ♣️

## 🏁 티츄 목표

- 티츄의 최종적인 목표는 상대 팀보다 먼저 1000점을 달성하는 것이다.

## 📖 티츄 진행 방식

1. 4명의 참가자가 2명씩 한 팀을 이룬다.
2. 각 참가자는 먼저 8장의 카드를 받는다.
3. 8장의 카드를 보고 참가자는 '**라지 티츄**'를 부를지 결정한다.
4. 모두의 결정이 끝나면 6장의 카드를 추가로 받는다.
5. 참가자는 이 때부터 14장의 카드가 손에 있다면 언제든지 '**스몰 티츄**'를 외칠 수 있다.
6. 라운드를 시작하기 전, 모든 참가자들은 카드를 1장씩 교환한다.
7. 카드 교환이 끝난 후 '**1**' 카드를 갖고 있는 참가자가 선이 된다.
8. 선은 원하는 족보의 카드를 낸다.
9. 다른 참가자들은 이 족보와 동일한 족보와 카드 장수로, 앞 사람보다 강한 족보를 내야 한다. 낼 수 있는 카드가 없거나 차례를 넘기고 싶으면 패스도 가능하다.
10. 마지막으로 카드를 낸 참가자 이후로 다른 참가자 3명이 모두 패스하면, 그 턴의 카드를 마지막에 카드를 낸 참가자가 모두 가져가고 선이 된다.
11. 이 과정을 반복해 손에 있는 카드를 가장 먼저 다 사용한 사람이 그 라운드의 1등이 된다.
12. 4등이 정해질 때까지 라운드를 진행한다.
13. 라운드가 끝나면 점수를 합산한다.
14. 점수가 1000점이 먼저 되는 팀이 승리한다.

## 1️⃣ 티츄란?

- 티츄는 '내가 이 라운드에서 1등을 할 것이다'라고 선언하는 것이다.
- 라지 티츄와 스몰 티츄는 카드 8장만 보고 부르는지, 14장을 모두 보고 부르는지의 차이다. 라지 티츄가 위험이 큰 만큼, 성공했을 때 보너스 점수가 크다.
- **라지 티츄**: 성공 시 +200, 실패 시 -200 / 맨 처음에 8장의 카드를 받았을 때만 선언 가능
- **스몰 티츄**: 성공 시 +100, 실패 시 -100 / 14장의 카드를 받은 이후부터, 손에 카드를 14장 들고 있다면 언제든 선언 가능

## 🃏 카드 종류

- 2부터 10까지의 숫자, J부터 K, 그리고 A 카드가 4가지 문양별로 존재하고, 특수카드 4장도 존재한다.
- 문양은 s(♠️), d(♦️), h(♥️), c(♣️)로 구분한다.
- 특수카드 종류는 다음과 같다.
    - 개🐕: 같은 팀 참가자에게 선을 넘긴다.
    - 1(새)🕊️: 라운드를 선으로 시작한다. 콜을 부를 수 있다.
        - 콜은 카드 등급 하나를 부르는 것이다. 자기 차례의 플레이어는 콜을 포함한 족보를 낼 수 있다면 패스가 불가능하며 무조건 내야 한다. 한 명이라도 콜을 포함한 족보를 내면 콜은 사라진다.
    - 봉🐦‍🔥: 조합의 카드 한 자리를 채워준다. 조커처럼 사용하며 싱글로 낼 경우 현재 테이블의 최상단 카드 +0.5로 취급된다.
    - 용🐉: 싱글 카드 중 가장 강한 카드이다.

## 🔝 족보

- 일반 족보는 6가지가 있다.
    - **싱글**: 카드 1장
    - **페어**: 동일한 등급의 카드 2장
    - **트리플**: 동일한 등급의 카드 3장
    - **풀하우스**: 페어와 트리플의 조합. 트리플의 등급을 기준으로 강함을 판단
    - **연속 페어**: 연속된 페어의 조합. 가장 높은 등급의 페어를 기준으로 강함을 판단
        - 예) 2,2,3,3,4,4
    - **스트레이트**: 5장 이상의 연속된 등급의 조합. 가장 높은 등급을 기준으로 강함을 판단
        - 예) 2,3,4,5,6,7

## 💣 폭탄

- 선과 동일한 족보가 없어도 폭탄을 내면 선을 가져올 수 있다.
- 폭탄 족보는 2가지가 있다.
    - **포 카드**: 동일한 등급의 카드 4장
    - **스트레이트 플러쉬**: 동일한 문양의 5장 이상 스트레이트
- 폭탄에도 우열이 존재한다.
    1. 장수 비교. 장수가 많은 등급이 강함
        - 포 카드는 4장, 스트레이트 플러쉬는 5장 이상으로 무조건 스트레이트 플러쉬가 강함
        - 5장의 스트레이트 플러쉬보다, 6장의 스트레이트 플러쉬가 강함
    2. 장수가 같다면 등급이 높은 폭탄이 강함
        - 가장 높은 등급을 기준으로 강함 비교
        - 4,4,4,4 포 카드보다, 7,7,7,7 포 카드가 강함
        - 2,3,4,5,6 스트레이트 플러쉬보다, 5,6,7,8,9 스트레이트 플러쉬가 강함

## 🏆 점수 계산

- 라운드가 끝나면 플레이어가 획득한 카드 점수를 계산한다.
- 4등이 획득한 카드 점수는 1등에게 가고, 4등이 마지막까지 손에 들고 있던 카드 점수는 상대 팀에게 간다.
- 같은 팀이 라운드의 1, 2등이 된 경우를 '**원투**'라고 한다. 원투가 나오면 라운드는 즉시 종료되며 카드 점수 계산은 하지 않고 원투를 한 팀에게만 +200점을 부여한다.
- 카드 점수는 다음과 같다.
    - 숫자 5: 5점
    - 숫자 10, 알파벳 K: 10점
    - 봉: -25점
    - 용: 25점
    - 나머지 카드: 점수 없음
- 합산된 카드 점수에 티츄 성공 여부에 따라 보너스 점수를 더하면 라운드 점수 계산이 완료된다.

## ✅ 구현 기능 목록 및 스크린샷

### 참가자 모집

- [x] 참가자 4명의 이름 입력 요청
    - 이름은 쉼표(,)로 구분
- [x] 입력값 검증: 잘못된 값일 경우 `IllegalArgumentException` 발생 및 재입력 요청
    - [x] 입력값이 비어 있을 경우
    - [x] 영어, 한글(자음 모음 조합)을 제외한 문자가 들어간 경우
    - [x] 중복된 이름이 입력된 경우

### 팀 선정 & 진행 방향 선정

- [x] 랜덤으로 팀 선정
- [x] 게임 진행 방향 선정

### 카드 배분

- [x] 카드를 중복없이 참가자 4명에게 배부

### 카드 정렬

- [x] 카드를 낮은 숫자 -> 높은 숫자, 낮은 알파벳 -> 높은 알파벳 순으로 정렬
- [x] 개와 1은 숫자 앞에, 봉과 용은 알파벳 뒤에 순서대로 정렬

### 보유한 카드 출력

- [x] 참가자가 보유한 카드를 출력

### 참가자 이름 출력

- [x] 참가자 이름을 "이름(팀)" 형식으로 출력
    - [x] 티츄를 부른 참가자는 팀 뒤에 -L 또는 -S 추가해 출력

### 티츄 입력

- [x] 티츄를 부를 참가자의 이름 요청
    - 이름은 쉼표(,)로 구분
- [x] 스몰 티츄 입력은 아직 티츄를 부르지 않은 모든 플레이어의 카드가 14장 미만이 될 때까지 출력
- [x] 입력값 검증: 잘못된 값일 경우 `IllegalArgumentException` 발생 및 재입력 요청
    - [x] 입력값이 비어 있을 경우
    - [x] 입력된 이름과 동일한 이름의 참가자가 없을 경우
    - [x] 중복된 이름이 입력된 경우

### 카드 교환

- [x] 다른 참가자에게 줄 카드 요청
- [x] 입력값 검증: 잘못된 값일 경우 `IllegalArgumentException` 발생 및 재입력 요청
    - [x] 입력값이 비어 있을 경우
    - [x] 입력 형식이 잘못되었을 경우
        - 입력 형식: 숫자/알파벳 + 문양 알파벳(대소문자 구분 x)
        - 특수카드는 개, 1, 봉, 용을 정확히 작성
    - [x] 보유하지 않은 카드를 입력할 경우

### 라운드 시작

- [x] 현재 라운드 계산
- [x] 1을 가진 사람을 선으로 시작
- [x] 라운드 시작 문구 출력

### 턴 수행

- [x] 이번 턴에 낼 카드 또는 패스 요청
    - 카드는 쉼표(,)로 구분
- [x] 입력값 검증: 잘못된 값일 경우 `IllegalArgumentException` 발생 및 재입력 요청
    - [x] 입력값이 비어 있을 경우
    - [x] 입력 형식이 잘못되었을 경우
        - 입력 형식: 숫자/알파벳 + 문양 알파벳(대소문자 구분 x)
        - 특수카드는 개, 1, 봉, 용을 정확히 작성
        - 패스는 p 입력
    - [x] 보유하지 않은 카드를 입력할 경우
    - [x] 선인데 p를 입력한 경우
    - [x] 콜이 존재하는데, 낼 수 있는 조합을 내지 않는 경우

### 조합 판단

- [x] 플레이어가 낸 조합이 무엇인지 판단
- [x] 조합 검증: 잘못된 값일 경우 `IllegalArgumentException` 발생 및 재입력 요청
    - [x] 유효하지 않은 조합인 경우

### 콜 부르기

- [x] 1을 포함한 조합을 낼 경우 콜 선택 요청
- [x] 입력값 검증: 잘못된 값일 경우 `IllegalArgumentException` 발생 및 재입력 요청
    - [x] 입력값이 비어 있을 경우
    - [x] 입력 형식이 잘못되었을 경우
        - 입력 형식: 숫자 또는 알파벳(대소문자 구분 x)
        - 숫자는 2부터 10까지, 알파벳은 J, Q, K, A만 입력 가능
        - 부르고 싶은 콜이 없으면 x 입력

### 테이블 카드 출력

- [x] 현재 테이블 최상단에 있는 카드 출력
- [x] 콜이 존재할 경우 콜도 같이 출력

### 폭탄을 낼 참가자 입력

- [x] 폭탄을 낼 참가자 입력 요청
    - [x] 모든 플레이어의 카드 장수가 4장 미만이 될 때까지 출력
- [x] 입력값 검증: 잘못된 값일 경우 `IllegalArgumentException` 발생 및 재입력 요청
    - [x] 입력값이 비어 있을 경우
    - [x] 입력된 이름과 동일한 이름의 참가자가 없을 경우

### 폭탄 사용

- [x] 폭탄을 낼 참가자의 카드 출력
    - 카드는 쉼표(,)로 구분
- [x] 입력값 검증: 잘못된 값일 경우 `IllegalArgumentException` 발생 및 재입력 요청
    - [x] 입력 형식이 잘못되었을 경우
        - 입력 형식: 숫자/알파벳 + 문양 알파벳(대소문자 구분 x)
        - 취소는 x 입력
    - [x] 보유하지 않은 카드를 입력할 경우
    - [x] 폭탄 족보(포 카드, 스트레이트 플러쉬)가 아닌 경우
    - [x] 더 강한 폭탄이 테이블 최상단에 존재해서 낼 수 없는 경우

### 페이즈 승리

- [x] 마지막으로 카드를 낸 사람 이후로, 나머지 참가자 3명이 모두 패스하면 페이즈 승리
- [x] 페이즈에 승리하면 테이블에 있던 모든 카드를 승리한 참가자가 획득
    - [x] 용으로 페이즈를 승리한 경우, 상대 팀 참가자를 선택해 획득한 카드 전달
        - [x] 카드를 줄 상대 팀 참가자 이름 요청
        - [x] 입력값 검증: 잘못된 값일 경우 `IllegalArgumentException` 발생 및 재입력 요청
            - [x] 입력값이 비어 있을 경우
            - [x] 입력된 이름과 동일한 이름의 참가자가 없을 경우
            - [x] 입력된 이름의 참가자가 같은 팀일 경우

### 라운드 종료

- [x] 4등이 정해지면 라운드 종료
    - [x] 3등이 정해지면 나머지 참가자가 자동으로 4등
- [x] 한 팀이 1, 2등이 됐을 경우엔 바로 라운드 종료

### 점수 계산

- [x] 4등이 획득한 카드는 1등에게, 4등이 마지막까지 들고 있던 카드는 상대 팀에게 전달
- [x] 팀이 획득한 점수 카드 계산
    - [x] 한 팀이 1, 2등을 해서 끝난 경우 계산하지 않고 승리한 팀에 +200점
    - [x] 양쪽 팀의 점수를 합하면 100이 나와야 함
    - 점수 카드: 5(5점), 10/K(10점), 용(25점), 봉(-25점)
- [x] 점수 카드 계산 이후 티츄 성공 여부를 합산해 최종 점수 계산

### 게임 종료

- [x] 한 팀이라도 점수가 1000점 이상이 되면 게임 종료
- [x] 먼저 1000점을 달성한 팀이 승리
    - [x] 두 팀이 동시에 1000점 이상을 달성한 경우, 점수가 높은 팀이 승리
    - [x] 두 팀이 동시에 1000점 이상을 달성했는데 점수도 같을 경우, 무승부 처리
